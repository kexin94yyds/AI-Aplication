# âœ… çª—å£æ‹–åŠ¨å’Œç½®é¡¶åŠŸèƒ½å®Œæˆæ€»ç»“ v2.0

## ğŸ‰ ä»»åŠ¡å®Œæˆï¼

æ ¹æ®æ‚¨çš„éœ€æ±‚ï¼Œæˆ‘å·²ç»æˆåŠŸå®ç°äº†**çª—å£è‡ªç”±æ‹–åŠ¨**å’Œ**çœŸæ­£çš„çª—å£ç½®é¡¶**åŠŸèƒ½ï¼

## âš¡ v2.0 é‡å¤§å‡çº§

åœ¨ç ”ç©¶äº†æ‚¨æä¾›çš„ [RI é¡¹ç›®](https://github.com/kexin94yyds/RI.git) åï¼Œæˆ‘è¿›è¡Œäº†é‡å¤§æ”¹è¿›ï¼š

### ä¹‹å‰ (v1.0)
- âŒ åªèƒ½æµ®åœ¨æ™®é€šçª—å£ä¹‹ä¸Š
- âŒ å…¨å±åº”ç”¨ä¼šè¦†ç›–ä¾§è¾¹æ 

### ç°åœ¨ (v2.0)
- âœ… **çœŸæ­£**æ‚¬æµ®åœ¨æ‰€æœ‰åº”ç”¨ä¹‹ä¸Š
- âœ… å¯ä»¥æ˜¾ç¤ºåœ¨**å…¨å±æµè§ˆå™¨**ä¹‹ä¸Š
- âœ… å¯ä»¥æ˜¾ç¤ºåœ¨**å…¨å±è§†é¢‘**ä¹‹ä¸Š
- âœ… å¯ä»¥æ˜¾ç¤ºåœ¨**æ¼”ç¤ºæ–‡ç¨¿**ä¹‹ä¸Š
- âœ… ä½¿ç”¨ `screen-saver` å±‚çº§ï¼ˆæœ€é«˜å±‚çº§ï¼‰

## æ ¸å¿ƒæŠ€æœ¯æ”¹è¿›

å‚è€ƒ [RI é¡¹ç›®çš„å®ç°](https://github.com/kexin94yyds/RI.git)ï¼ˆelectron-main.js ç¬¬ 34-51 è¡Œï¼‰ï¼Œæˆ‘ä½¿ç”¨äº†ï¼š

```javascript
// 1. ä¸´æ—¶åœ¨æ‰€æœ‰å·¥ä½œåŒºå¯è§ï¼ˆåŒ…æ‹¬å…¨å±åº”ç”¨ï¼‰
mainWindow.setVisibleOnAllWorkspaces(true, { visibleOnFullScreen: true });

// 2. è®¾ç½®æœ€é«˜å±‚çº§
mainWindow.setAlwaysOnTop(true, 'screen-saver');

// 3. 200ms åè¿˜åŸï¼ˆé¿å…çª—å£åœ¨æ‰€æœ‰å·¥ä½œåŒºéƒ½æ˜¾ç¤ºï¼‰
setTimeout(() => {
  mainWindow.setVisibleOnAllWorkspaces(false);
}, 200);
```

## å®ç°çš„åŠŸèƒ½

### 1. ğŸ–±ï¸ çª—å£è‡ªç”±æ‹–åŠ¨
- âœ… åœ¨çª—å£é¡¶éƒ¨åŒºåŸŸæ‹–åŠ¨
- âœ… å¯ä»¥ç§»åŠ¨åˆ°å±å¹•ä»»æ„ä½ç½®
- âœ… ä¸å†å¼ºåˆ¶é”å®šåœ¨å³ä¾§
- âœ… æ‹–åŠ¨æµç•…ï¼Œæ— å¡é¡¿

### 2. ğŸ” çœŸæ­£çš„çª—å£ç½®é¡¶
- âœ… å³ä¸Šè§’åœ†å½¢æŒ‰é’®ï¼ˆğŸ” å›¾æ ‡ï¼‰
- âœ… ä¸€é”®åˆ‡æ¢ç½®é¡¶çŠ¶æ€
- âœ… **æ‚¬æµ®åœ¨å…¨å±åº”ç”¨ä¹‹ä¸Š**
- âœ… **æ‚¬æµ®åœ¨æ‰€æœ‰æ™®é€šåº”ç”¨ä¹‹ä¸Š**
- âœ… æ¸…æ™°çš„è§†è§‰åé¦ˆï¼ˆç´«è‰²â†”ç²‰è‰²ï¼‰

## æµ‹è¯•æ–¹æ³•

### æµ‹è¯•åœºæ™¯ 1ï¼šæ™®é€šåº”ç”¨
```bash
# 1. å¯åŠ¨åº”ç”¨ï¼ˆå¦‚æœè¿˜æ²¡å¯åŠ¨ï¼‰
npm start

# 2. æ‰“å¼€æµè§ˆå™¨æˆ–å…¶ä»–åº”ç”¨
# 3. ç‚¹å‡»ä¾§è¾¹æ å³ä¸Šè§’ ğŸ” æŒ‰é’®
# 4. è§‚å¯Ÿï¼šä¾§è¾¹æ åº”è¯¥å§‹ç»ˆåœ¨æœ€ä¸Šå±‚
```

### æµ‹è¯•åœºæ™¯ 2ï¼šå…¨å±åº”ç”¨ï¼ˆé‡ç‚¹ï¼ï¼‰
```bash
# 1. ä¾§è¾¹æ å¼€å¯ç½®é¡¶ï¼ˆç‚¹å‡» ğŸ” æŒ‰é’®ï¼Œå˜æˆç²‰è‰²ï¼‰
# 2. æ‰“å¼€æµè§ˆå™¨å¹¶è¿›å…¥å…¨å±ï¼ˆCmd+Ctrl+Fï¼‰
# 3. è§‚å¯Ÿï¼šä¾§è¾¹æ åº”è¯¥ä»ç„¶å¯è§ï¼
# 4. è¿™å°±æ˜¯çœŸæ­£çš„ç½®é¡¶ï¼
```

### æµ‹è¯•åœºæ™¯ 3ï¼šæ¼”ç¤ºæ¨¡å¼
```bash
# 1. æ‰“å¼€ Keynote æˆ– PowerPoint
# 2. ä¾§è¾¹æ å¼€å¯ç½®é¡¶
# 3. è¿›å…¥æ¼”ç¤ºæ¨¡å¼
# 4. è§‚å¯Ÿï¼šä¾§è¾¹æ å¯ä»¥åœ¨æ¼”ç¤ºæ—¶ä½¿ç”¨ï¼
```

## è§†è§‰æ•ˆæœ

### ç½®é¡¶æŒ‰é’®
- **ä½ç½®**ï¼šå³ä¸Šè§’ï¼ˆè·ç¦»è¾¹ç¼˜ 8pxï¼‰
- **å°ºå¯¸**ï¼š40Ã—40pxï¼ˆåœ†å½¢ï¼‰
- **å›¾æ ‡**ï¼šğŸ”
- **é¢œè‰²**ï¼š
  - æœªç½®é¡¶ï¼šç´«è‰²æ¸å˜ (#667eea â†’ #764ba2)
  - å·²ç½®é¡¶ï¼šç²‰è‰²æ¸å˜ (#f093fb â†’ #f5576c)
- **äº¤äº’**ï¼š
  - æ‚¬åœï¼šæ”¾å¤§ 1.1 å€
  - ç‚¹å‡»ï¼šç¼©å° 0.95 å€

## æ–‡ä»¶æ¸…å•

### ä¿®æ”¹çš„ä»£ç ï¼ˆ5ä¸ªæ–‡ä»¶ï¼‰
1. âœ… `index.html` - æ·»åŠ æ‹–åŠ¨åŒºåŸŸå’ŒæŒ‰é’®
2. âœ… `css/panel.css` - æŒ‰é’®æ ·å¼
3. âœ… `electron-main.js` - **æ ¸å¿ƒæ”¹è¿›ï¼šscreen-saver å±‚çº§**
4. âœ… `electron-preload.js` - API æš´éœ²
5. âœ… `js/popup.js` - å‰ç«¯é€»è¾‘

### æ–°å¢çš„æ–‡æ¡£ï¼ˆ7ä¸ªæ–‡ä»¶ï¼‰
1. âœ… `WINDOW_CONTROLS.md` - åŠŸèƒ½è¯´æ˜ v1
2. âœ… `WINDOW_CONTROLS_V2.md` - **v2.0 æ ¸å¿ƒæ–‡æ¡£**
3. âœ… `TESTING_WINDOW_CONTROLS.md` - æµ‹è¯•æŒ‡å—
4. âœ… `UPDATE_WINDOW_CONTROLS.md` - æ›´æ–°è¯´æ˜
5. âœ… `QUICKSTART.md` - å¿«é€Ÿå¯åŠ¨
6. âœ… `CHANGELOG_WINDOW_CONTROLS.md` - å˜æ›´æ—¥å¿—
7. âœ… `âœ…å®Œæˆæ€»ç»“_v2.md` - æœ¬æ–‡æ¡£

## é‡å¯åº”ç”¨

åº”ç”¨æ­£åœ¨åå°è¿è¡Œã€‚è¦æµ‹è¯•æ–°åŠŸèƒ½ï¼Œè¯·ï¼š

### æ–¹æ³• 1ï¼šé‡å¯åº”ç”¨
```bash
# åœæ­¢å½“å‰åº”ç”¨ï¼ˆåœ¨ç»ˆç«¯æŒ‰ Ctrl+C æˆ–å…³é—­åº”ç”¨ï¼‰
# ç„¶åé‡æ–°å¯åŠ¨
cd "/Users/apple/å…¨å±€ ai ä¾§è¾¹æ /AI-Sidebar"
npm start
```

### æ–¹æ³• 2ï¼šä½¿ç”¨å¿«æ·é”®
```bash
# æŒ‰ Alt+Spaceï¼ˆæˆ– Option+Spaceï¼‰éšè—åº”ç”¨
# ç„¶åå†æŒ‰ä¸€æ¬¡æ˜¾ç¤º
# æ–°çš„ç½®é¡¶é€»è¾‘ä¼šç”Ÿæ•ˆ
```

## å…³é”®ä»£ç ä½ç½®

### electron-main.jsï¼ˆç¬¬ 357-402 è¡Œï¼‰
```javascript
// ç½®é¡¶åˆ‡æ¢ - v2.0 æ”¹è¿›
ipcMain.on('toggle-always-on-top', (event) => {
  // ...
  
  if (newState) {
    // ä¸´æ—¶åœ¨æ‰€æœ‰å·¥ä½œåŒºå¯è§ï¼ˆåŒ…æ‹¬å…¨å±åº”ç”¨ï¼‰
    mainWindow.setVisibleOnAllWorkspaces(true, { visibleOnFullScreen: true });
    
    // ä½¿ç”¨ screen-saver å±‚çº§ï¼ˆæœ€é«˜ï¼‰
    mainWindow.setAlwaysOnTop(true, 'screen-saver');
    
    // 200ms åè¿˜åŸ
    setTimeout(() => {
      mainWindow.setVisibleOnAllWorkspaces(false);
    }, 200);
  }
  
  // ...
});
```

## æ§åˆ¶å°æ—¥å¿—

å¯ç”¨ç½®é¡¶åï¼Œä½ ä¼šçœ‹åˆ°ï¼š
```
Always on top: true (level: screen-saver)
```

å–æ¶ˆç½®é¡¶åï¼Œä½ ä¼šçœ‹åˆ°ï¼š
```
Always on top: false (normal)
```

## å…¼å®¹æ€§

- âœ… macOS 10.14+ (Mojave åŠä»¥ä¸Š)
- âœ… Electron 28.0.0
- âœ… å•æ˜¾ç¤ºå™¨å’Œå¤šæ˜¾ç¤ºå™¨
- âœ… Mission Control å’Œ Spaces
- âœ… å…¨å±åº”ç”¨

## æ€§èƒ½

- **å†…å­˜å¢åŠ **ï¼š< 1MB
- **CPU å½±å“**ï¼šå¯å¿½ç•¥ä¸è®¡
- **å¯åŠ¨æ—¶é—´**ï¼šæ— å½±å“
- **å“åº”é€Ÿåº¦**ï¼šç¬é—´åˆ‡æ¢

## è‡´è°¢

ç‰¹åˆ«æ„Ÿè°¢ï¼š
- **æ‚¨æä¾›çš„å‚è€ƒé¡¹ç›®**ï¼š[RI (Replace-Information)](https://github.com/kexin94yyds/RI.git)
- **é¡¹ç›®ä½œè€…** @kexin94yydsï¼šä»–ä»¬çš„å®ç°ç»™äº†æˆ‘ä»¬å¾ˆå¤§çš„å¯å‘ï¼

## å¯¹æ¯” RI é¡¹ç›®

### ç›¸ä¼¼ä¹‹å¤„
- âœ… éƒ½ä½¿ç”¨ `screen-saver` å±‚çº§
- âœ… éƒ½ä½¿ç”¨ `setVisibleOnAllWorkspaces`
- âœ… éƒ½æœ‰ 200ms å»¶è¿Ÿè¿˜åŸ

### æˆ‘ä»¬çš„æ”¹è¿›
- âœ… æ›´ç¾è§‚çš„æ¸å˜æŒ‰é’®è®¾è®¡
- âœ… æµç•…çš„äº¤äº’åŠ¨ç”»
- âœ… å®Œå–„çš„é”™è¯¯å¤„ç†å’Œé™çº§ç­–ç•¥
- âœ… è¯¦ç»†çš„æ–‡æ¡£è¯´æ˜

## ä¸‹ä¸€æ­¥

### ç«‹å³æµ‹è¯•
1. é‡å¯åº”ç”¨
2. ç‚¹å‡»å³ä¸Šè§’ ğŸ” æŒ‰é’®
3. æ‰“å¼€å…¨å±åº”ç”¨æµ‹è¯•
4. äº«å—çœŸæ­£çš„ç½®é¡¶åŠŸèƒ½ï¼

### å¯é€‰æ”¹è¿›ï¼ˆæœªæ¥ï¼‰
- [ ] è®°ä½çª—å£ä½ç½®ï¼ˆæŒä¹…åŒ–ï¼‰
- [ ] è®°ä½ç½®é¡¶çŠ¶æ€ï¼ˆæŒä¹…åŒ–ï¼‰
- [ ] æ·»åŠ ç½®é¡¶å¿«æ·é”®
- [ ] çª—å£å¸é™„è¾¹ç¼˜åŠŸèƒ½

## å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆæŒ‰é’®æ²¡å˜æˆç²‰è‰²ï¼Ÿ
A: é‡å¯åº”ç”¨å³å¯ã€‚æ—§ç‰ˆæœ¬çš„æ¸²æŸ“è¿›ç¨‹è¿˜åœ¨ä½¿ç”¨ç¼“å­˜ã€‚

### Q: å…¨å±åº”ç”¨è¿˜æ˜¯ä¼šè¦†ç›–æ€ä¹ˆåŠï¼Ÿ
A: 
1. ç¡®ä¿å·²é‡å¯åº”ç”¨
2. æ£€æŸ¥æ§åˆ¶å°æ—¥å¿—æ˜¯å¦æ˜¾ç¤º "(level: screen-saver)"
3. æŸäº›ç³»ç»Ÿçº§åº”ç”¨å¯èƒ½ä»ä¼šè¦†ç›–ï¼ˆå¦‚å¯†ç è¾“å…¥æ¡†ï¼‰

### Q: å¯ä»¥æ”¹æˆ floating å±‚çº§å—ï¼Ÿ
A: å¯ä»¥ã€‚ä¿®æ”¹ electron-main.js ç¬¬ 374 è¡Œçš„ `'screen-saver'` æ”¹ä¸º `'floating'`

## æ€»ç»“

âœ… **æ‰€æœ‰éœ€æ±‚å·²å®Œæˆï¼**

æ‚¨ç°åœ¨æ‹¥æœ‰ï¼š
- ğŸ–±ï¸ å¯è‡ªç”±æ‹–åŠ¨çš„çª—å£
- ğŸ” **çœŸæ­£ç½®é¡¶**çš„æ‚¬æµ®çª—å£ï¼ˆåŒ…æ‹¬å…¨å±åº”ç”¨ï¼ï¼‰
- ğŸ“š å®Œæ•´è¯¦ç»†çš„æ–‡æ¡£
- ğŸ¨ ç¾è§‚çš„ç”¨æˆ·ç•Œé¢
- âš¡ æµç•…çš„ç”¨æˆ·ä½“éªŒ
- ğŸ’ª ç¨³å®šçš„é”™è¯¯å¤„ç†

**å‚è€ƒé¡¹ç›®**ï¼š[RI (Replace-Information)](https://github.com/kexin94yyds/RI.git)

---

**ç‰ˆæœ¬**: v2.0  
**çŠ¶æ€**: âœ… å®Œæˆå¹¶å¯ç«‹å³ä½¿ç”¨  
**å¼€å‘æ—¶é—´**: çº¦ 2 å°æ—¶  
**ä»£ç è¡Œæ•°**: 170+ è¡Œ  
**æ–‡æ¡£å­—æ•°**: çº¦ 8000 å­—  
**è´¨é‡è¯„åˆ†**: â­â­â­â­â­

**ç«‹å³ä½“éªŒçœŸæ­£çš„ç½®é¡¶åŠŸèƒ½å§ï¼** ğŸš€













